extends layout

block content
    html
        head
        body
            .animated-marquee
                .animated-marquee-container.animated-marquee-foreground
                    each card1 in ['','','','','','','','','','','','']
                        .animated-marquee-card
                .animated-marquee-container.animated-marquee-middleground
                    each card1 in ['','','','','','','','','','','','']
                        .animated-marquee-card

                .animated-marquee-container.animated-marquee-background
                    each card1 in ['','','','','','','','','','','','']
                        .animated-marquee-card
            .question-box
                h2 Would you like to say something?
                |
                button.yes-btn Yes
            |
            .form-box.hidden
                #octo.octo
                |
                form(action='/update_post' method='POST' id='contact-form')
                    .text-box
                        label(for='message') Your Post
                        |
                        textarea#message( name='body' placeholder='Write text here....', cols='30', rows='8') #{post_text}
                        |
                        input(type='hidden', name='post_id', value=post_id)
                        |
                        .btns-box
                            button.send-btn.custom-btn(type='submit') Send
                            |
                            button.cancel-btn.custom-btn(type='button') Cancel
            |
            style.
                body, html {
                    height: 100%;
                    padding: 0;
                    margin: 0;
                    font-family: 'Sniglet', cursive;
                    background-color: #000000;
                }

                .hidden {
                    display: none !important;
                }

                h2 {
                    color: #fff;
                }

                .yes-btn {
                    width: 100px;
                    height: 100px;
                    border: none;
                    border-radius: 50%;
                    outline: none;
                    color: #98d4f3;
                    font-family: 'Raleway', sans-serif;
                    font-size: 25px;
                    background-color: #fff;
                }

                .yes-btn:hover {
                    color: #F90;
                }

                .question-box, .form-box{
                    width: 30%;
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    display: flex;
                    flex-direction: column;
                }

                .question-box {
                    align-items: center;
                    text-align: center;
                }

                .text-box {
                    width: 100%;
                    display: flex;
                    flex-direction: column;
                }

                input, textarea {
                    border-radius: 5px;
                    padding: 10px;
                    margin-bottom: 10px;
                    font-family: 'Sniglet', cursive;
                    font-size: 16px;
                    color: #808080;
                    background-color: #fff;
                    border: none;
                    outline: none;
                }

                textarea {
                    height: 200px;
                    resize: none;
                    overflow: auto;
                }

                label {
                    color: #fff;
                    font-size: 24px;
                }

                .btns-box {
                    display: flex;
                    flex-direction: row;
                    justify-content: space-between;
                }

                .send-btn {
                    background-color: #F90;
                }

                .send-btn:hover {
                    background-color: #e58f0e;
                }

                .cancel-btn {
                    background-color: #808080;
                }

                .cancel-btn:hover {
                    background-color: #696969;
                }

                .custom-btn {
                    width: 48%;
                    height: 40px;
                    font-size: 18px;
                    border-radius: 5px;
                    color: #fff;
                    font-family: 'Raleway', sans-serif;
                    outline: none;
                    border: none;
                }

                @keyframes myoctoanimation {
                    from {
                        transform: translate3d(0, 0, 0);
                    }
                    to {
                        transform: translate3d(0, 200px, 0);
                    }
                }

                .octo {
                    background-image: url('http://www.geertjanhendriks.nl/codepen/form/octo.png');
                    width: 66px;
                    height: 97px;
                    position: absolute;
                    right: -20%;
                    transform-origin: 50% 50%;
                    animation: myoctoanimation 2s linear alternate infinite;
                }

                .animated-marquee {
                    background: #92c9e8;
                    margin: 0 auto;
                    min-height: 340px;
                    overflow: hidden;
                    position: fixed;
                    height: 100%;
                    width: 100%;
                }

                @-webkit-keyframes slide {
                    0% {
                        -webkit-transform: rotate(-22deg) skewX(-22.5deg) translate3d(-100%, 0, 0);
                        opacity: 0;
                    }
                    5% {
                        opacity: 1;
                    }
                    50% {
                        opacity: .8;
                    }
                    85% {
                        opacity: 1;
                    }
                    100% {
                        -webkit-transform: rotate(-22deg) skewX(-22.5deg) translate3d(25%, 0, 0);
                        opacity: 0;
                    }
                }

                .animated-marquee-container {
                    position: absolute;
                    top: -55%;
                    width: 200%;
                    -webkit-animation: slide 18s linear infinite;
                }

                .animated-marquee-foreground {
                    margin-top: 3em;
                    -webkit-animation-duration: 42s;
                    width: 300%;
                    z-index: 200;
                }

                .animated-marquee-middleground {
                    margin-top: 6em;
                    -webkit-animation-duration: 60s;
                    z-index: 100;
                }

                .animated-marquee-background {
                    margin-top: 3em;
                    /*-webkit-animation-delay: 250ms;*/
                    -webkit-animation-duration: 100s;
                    z-index: 0;
                }

                .animated-marquee-card {
                    background: #fff;
                    float: left;
                    margin-top: -2%;
                    margin-right: 2%;
                    -webkit-transition: opacity 2s ease-out;
                    height: 100px;
                    position: relative;
                    width: 8%;
                }

                .animated-marquee-foreground .animated-marquee-card {
                    height: 200px;
                    margin-right: 9%;
                    opacity: .6;
                    width: 320px;
                }

                .animated-marquee-middleground .animated-marquee-card {
                    margin-right: 2%;
                    opacity: .3;
                }

                .animated-marquee-background .animated-marquee-card {
                    height: 50px;
                    margin-right: 1%;
                    margin-top: 1%;
                    opacity: .2;
                    width: 4%;
                }

                .card-footer {
                    background-color: white;
                    border-top: none;
                }

                .card-header {
                    background-color: white;
                    border-bottom: none;
                }

                .card-body {
                    padding-top: 0 !important;
                }

                .animated-marquee-card:hover {
                    opacity: .8 !important;
                }

                .animated-marquee-card:nth-child(3n+3) {
                    left: 30%;
                    top: 20%;
                }

                .animated-marquee-card:nth-child(8n+1) {
                    right: 20%;
                }

                .animated-marquee-card:nth-child(4n+3) {
                    top: 18%;
                }

                .animated-marquee-card:nth-child(3n+5) {
                    bottom: 10%;
                }

                .animated-marquee-card:nth-child(3n+1) {
                    visibility: hidden;
                }

                @media only screen and (max-width: 400px) {
                    .animated-marquee {
                        height: 340px;
                    }

                    .animated-marquee-container {
                        -webkit-animation: slide 14s linear infinite;
                    }

                    .animated-marquee-foreground {
                        margin-top: 3em;
                        -webkit-animation-duration: 22s;
                    }

                    .animated-marquee-middleground {
                        margin-top: 6em;
                        -webkit-animation-duration: 40s;
                    }

                    .animated-marquee-background {
                        margin-top: 3em;
                        -webkit-animation-duration: 75s;
                    }

                    .animated-marquee-foreground .animated-marquee-card {
                        height: 140px;
                        margin-right: 12px;
                        width: 220px;
                    }

                    .animated-marquee-middleground .animated-marquee-card {
                        height: 50px;
                        margin-right: 2%;
                    }

                    .animated-marquee-background .animated-marquee-card {
                        height: 30px;
                        width: 4%;
                    }
                }

                @media only screen and (max-width: 767px) and (min-width: 401px) {
                    .animated-marquee-container {
                        top: -30%;
                        width: 200%;
                    }

                    .animated-marquee-foreground .animated-marquee-card {
                        height: 150px;
                        margin-right: 10px;
                        width: 240px;
                    }

                    .animated-marquee-middleground .animated-marquee-card {
                        height: 50px;
                        margin-right: 2%;
                    }

                    .animated-marquee-background .animated-marquee-card {
                        height: 30px;
                        width: 4%;
                    }
                }

                @media only screen and (min-width: 1200px) {
                    .animated-marquee-container {
                        top: -55%;
                    }

                    .animated-marquee-foreground .animated-marquee-card {
                        height: 180px;
                        margin-right: 6%;
                        width: 280px;
                    }

                    .animated-marquee-middleground .animated-marquee-card {
                        margin-right: 1%;
                        height: 120px;
                        width: 170px;
                    }

                    .animated-marquee-background .animated-marquee-card {
                        height: 42px;
                        margin: 1px;
                        width: 2.5%;
                    }

                    .animated-marquee-card:nth-child(2n+2) {
                        left: 1%;
                        top: 1%;
                    }

                    .animated-marquee-card:nth-child(5n+3) {
                        right: 1%;
                        top: 1%;
                    }

                    .animated-marquee-card:nth-child(2n+6) {
                        top: 1%;
                    }

                    .animated-marquee-card:nth-child(6n+3) {
                        bottom: 1%;
                        right: 1%;
                    }

                    .animated-marquee-card:nth-child(3n+2) {
                        visibility: hidden;
                    }
                }
            |
            script.
                document.querySelector(".yes-btn").addEventListener("click", function () {
                    document.querySelector(".form-box").classList.remove("hidden")
                    document.querySelector(".question-box").classList.add("hidden")
                })
                document.querySelector(".cancel-btn").addEventListener("click", function () {
                    document.querySelector(".form-box").classList.add("hidden")
                })
                document.querySelector(".send-btn").addEventListener("click", function () {
                    document.querySelector(".form-box").classList.add("hidden")
                    document.querySelector(".question-box").classList.add("hidden")
                    document.querySelector(".thanks-msg-box").classList.remove("hidden")
                })
